<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Missing Letter Challenge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #333;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated background elements */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);
            animation: floating 20s ease-in-out infinite;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes floating {

            0%,
            100% {
                transform: translateY(0px) rotate(0deg);
            }

            25% {
                transform: translateY(-20px) rotate(90deg);
            }

            50% {
                transform: translateY(10px) rotate(180deg);
            }

            75% {
                transform: translateY(-10px) rotate(270deg);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .header h1 {
            font-size: 3.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #fff, #f8fafc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            animation: titleGlow 3s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            from {
                filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
            }

            to {
                filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.6));
            }
        }

        .subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
            margin-bottom: 8px;
        }

        .difficulty-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 32px;
            padding: 48px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .game-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899, #f59e0b);
            animation: progressFlow 4s linear infinite;
        }

        @keyframes progressFlow {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        .word-display {
            background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            border: 3px solid #e2e8f0;
            border-radius: 20px;
            padding: 32px 24px;
            margin: 32px 0;
            font-size: 3rem;
            font-weight: 800;
            font-family: 'Courier New', monospace;
            letter-spacing: 8px;
            color: #374151;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .word-display::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #6366f1, #8b5cf6, #ec4899, #f59e0b);
            border-radius: 20px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .word-display:hover::before {
            opacity: 1;
        }

        .missing-letter {
            color: #ef4444;
            animation: blink 1.5s ease-in-out infinite;
            text-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            51%,
            100% {
                opacity: 0.3;
            }
        }

        .input-section {
            margin: 32px 0;
            position: relative;
        }

        .input-container {
            display: flex;
            gap: 16px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }

        .letter-input {
            width: 80px;
            height: 80px;
            font-size: 2.5rem;
            font-weight: 800;
            text-align: center;
            border: 3px solid #e5e7eb;
            border-radius: 16px;
            background: #f9fafb;
            outline: none;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-family: 'Courier New', monospace;
        }

        .letter-input:focus {
            border-color: #6366f1;
            background: white;
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
            transform: scale(1.1);
        }

        .letter-input.valid {
            border-color: #10b981;
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
        }

        .btn {
            padding: 16px 32px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            min-width: 120px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transition: all 0.4s ease;
            transform: translate(-50%, -50%);
        }

        .btn:active::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(99, 102, 241, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(16, 185, 129, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
        }

        .btn-danger:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(239, 68, 68, 0.4);
        }

        .controls {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 24px 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 32px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            padding: 24px;
            border-radius: 20px;
            border: 2px solid #bae6fd;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(56, 189, 248, 0.1), transparent);
            transition: left 0.6s;
        }

        .stat-card:hover::before {
            left: 100%;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #0369a1;
            display: block;
            margin-bottom: 8px;
            animation: countUp 0.5s ease-out;
        }

        @keyframes countUp {
            from {
                transform: scale(0.5);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .stat-label {
            font-size: 1rem;
            color: #0369a1;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-emoji {
            font-size: 1.5rem;
            margin-right: 8px;
        }

        .timer-card {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-color: #f59e0b;
            grid-column: 1 / -1;
        }

        .timer-card .stat-value {
            color: #92400e;
            animation: timerPulse 1s ease-in-out infinite;
        }

        .timer-card .stat-label {
            color: #92400e;
        }

        @keyframes timerPulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        .timer-warning .stat-value {
            color: #dc2626 !important;
            animation: urgentPulse 0.5s ease-in-out infinite;
        }

        @keyframes urgentPulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.3);
            }
        }

        .feedback {
            margin: 24px 0;
            padding: 20px;
            border-radius: 16px;
            font-weight: 700;
            font-size: 1.2rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease;
            border: 2px solid;
        }

        .feedback.show {
            opacity: 1;
            transform: translateY(0);
        }

        .feedback.correct {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            color: #047857;
            border-color: #10b981;
            animation: celebration 0.6s ease-in-out;
        }

        @keyframes celebration {

            0%,
            100% {
                transform: scale(1) rotate(0deg);
            }

            25% {
                transform: scale(1.05) rotate(1deg);
            }

            75% {
                transform: scale(1.05) rotate(-1deg);
            }
        }

        .feedback.incorrect {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            color: #dc2626;
            border-color: #ef4444;
            animation: shake 0.6s ease-in-out;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-5px);
            }

            75% {
                transform: translateX(5px);
            }
        }

        .feedback.timeout {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            color: #92400e;
            border-color: #f59e0b;
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(99, 102, 241, 0.3);
            border-radius: 50%;
            border-top-color: #6366f1;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }

            .game-container {
                padding: 32px 24px;
                margin: 20px;
            }

            .word-display {
                font-size: 2.2rem;
                letter-spacing: 4px;
                padding: 24px 16px;
            }

            .letter-input {
                width: 60px;
                height: 60px;
                font-size: 2rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .timer-card {
                grid-column: 1;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .btn {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1.1rem;
            }

            .game-container {
                padding: 24px 16px;
            }

            .word-display {
                font-size: 1.8rem;
                letter-spacing: 2px;
                padding: 20px 12px;
            }

            .letter-input {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
            }

            .btn {
                padding: 12px 20px;
                font-size: 14px;
            }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .game-container {
                background: white;
                border: 3px solid black;
            }

            .word-display {
                border: 3px solid black;
            }

            .letter-input {
                border: 3px solid black;
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {

            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>🔤 Missing Letter Challenge</h1>
        <p class="subtitle">Find the missing letter to complete the word!</p>
        <div class="difficulty-badge">🔥 Hard Level</div>
    </div>

    <div class="game-container">
        <div style="text-align:right; margin-bottom:16px;">
            <button class="btn btn-secondary" type="button" onclick="returnToMenu()">⬅️ Return to Quiz Menu</button>
        </div>
        <div id="word" class="word-display">
            <div class="loading"></div>
        </div>

        <div class="input-section">
            <div class="input-container">
                <input type="text" id="userInput" class="letter-input" placeholder="?" maxlength="1"
                    onkeydown="if(event.key==='Enter') checkLetter()" autocomplete="off"
                    aria-label="Enter the missing letter">
                <button class="btn btn-primary" onclick="checkLetter()">
                    ✅ Submit
                </button>
            </div>
        </div>

        <div id="status" class="feedback"></div>

        <div class="stats-grid">
            <div class="stat-card">
                <span class="stat-value" id="score">0</span>
                <div class="stat-label">
                    <span class="stat-emoji">🏆</span>Score
                </div>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="round">1</span>
                <div class="stat-label">
                    <span class="stat-emoji">🎯</span>Round
                </div>
            </div>
            <div class="stat-card timer-card" id="timer-card">
                <span class="stat-value" id="timer">30</span>
                <div class="stat-label">
                    <span class="stat-emoji">⏰</span>Seconds Left
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-secondary" onclick="startGame()">
                🔄 New Round
            </button>
            <button class="btn btn-danger" onclick="finishGame()">
                🏁 Finish Game
            </button>
        </div>
    </div>

    <script>
        const words = [
            "aberration", "abjure", "ablution", "abnegation", "abrogate",
            "abscond", "abstain", "abstruse", "accede", "accolade",
            "acerbate", "acrimony", "actuate", "adamant", "adjudicate",
            "admonish", "adroit", "adulation", "aerodrome", "aesthetic",
            "affable", "alacrity", "alleviate", "allude", "altruism",
            "amalgamate", "ameliorate", "amenable", "anachronism", "anathema",
            "animosity", "antagonistic", "antediluvian", "antipathy", "apathy",
            "aplomb", "apocryphal", "apostate", "apotheosis", "appease",
            "apposite", "apprise", "approbation", "arbitrary", "arcane",
            "arduous", "ascetic", "ascribe", "asperity", "assiduous",
            "assuage", "astringent", "atrophy", "attenuate", "audacious",
            "augment", "auspicious", "austere", "avarice", "aver",
            "avocation", "avuncular", "axiomatic", "baleful", "bane",
            "beget", "beguile", "behemoth", "belie", "bellicose",
            "belligerent", "benevolent", "benign", "bequeath", "bereft",
            "blasé", "blight", "boisterous", "bombastic", "bourgeois",
            "bucolic", "burnish", "buttress", "cabal", "cacophony",
            "cadge", "cajole", "calamity", "callous", "calumny",
            "candor", "cantankerous", "capacious", "capitulate", "capricious",
            "captious", "carte blanche", "castigate", "catalyst", "catharsis",
            "caustic", "cavalier", "censure", "chagrin", "charlatan",
            "chicanery", "chimerical", "choleric", "chronic", "churlish",
            "circumspect", "clandestine", "clemency", "cloying", "coalesce",
            "disparage", "disparate", "dispassionate", "dispel", "dissident",
            "dissipate", "dissonance", "dissuade", "distraught", "divisive",
            "dogmatic", "dolorous", "dormant", "dour", "droll",
            "dubious", "duplicity", "ebullient", "eccentric", "eclectic",
            "edifying", "efface", "efficacious", "effrontery", "effulgent",
            "egregious", "elicit", "eloquence", "elucidate", "emanate",
            "embellish", "embezzle", "empirical", "emulate", "enervate",
            "enfranchise", "engender", "enigma", "enjoin", "ennui",
            "enunciate", "ephemeral", "epicurean", "epigram", "epitome",
            "equanimity", "equivocal", "erudite", "eschew", "esoteric",
            "espouse", "estimable", "ethereal", "eulogy", "euphemism",
            "euphoria", "evanescent", "evince", "exacerbate", "exasperate",
            "exculpate", "execrable", "exhort", "exigency", "exorbitant",
            "expatriate", "expedient", "expedite", "explicit", "expostulate",
            "expurgate", "extant", "extemporaneous", "extol", "extraneous",
            "extricate", "exuberant", "facetious", "fallacious", "fastidious",
            "fathom", "fatuous", "feckless", "fecund", "felicitous",
            "fervent", "fervid", "fetid", "fetter", "fiat",
            "fidelity", "figurative", "flaccid", "flagrant", "florid",
            "pedantic", "pejorative", "pellucid", "penchant", "penitent",
            "pensive", "penury", "perfidious", "perfunctory", "peripatetic",
            "permeate", "pernicious", "perspicacious", "pertinacious", "pertinent",
            "pervade", "petulant", "philanthropic", "phlegmatic", "pillage",
            "piquant", "pique", "placate", "placid", "plaintive",
            "serendipity", "servile", "sinecure", "sinuous", "solace",
            "solicitous", "somber", "soporific", "sordid", "spartan",
            "specious", "spurious", "stagnant", "staid", "stolid",
            "strident", "sublime", "subterfuge", "subtle", "succinct",
            "supercilious", "superfluous", "supersede", "surreptitious", "sycophant",
            "tacit", "taciturn", "tangential", "tardiness", "tendentious",
            "tenebrous", "tenuous", "terse", "timorous", "tirade",
            "toady", "torpid", "tortuous", "tractable", "transient",
            "transmute", "travesty", "trenchant", "trepidation", "truculent",
            "truncate", "turgid", "ubiquitous", "umbrage", "unctuous",
            "undermine", "undulate", "unfathomable", "unflappable", "unilateral",
            "unprecedented", "untenable", "urbane", "usurp", "vacillate",
            "kismet", "jocund", "jettison", "jejune", "jaundice",
            "jaded", "invidious", "inveterate", "inveigle", "invective",
            "inured", "inundate", "intrusive", "intransigent", "intractable",
            "intimation", "interstice", "interregnum", "internecine", "interlocutor",
            "interdict", "insurrection", "insuperable", "insipid", "insidious",
            "inscrutable", "inchoate", "incisive", "incandescent", "impromptu",
            "impudent", "impunity", "imprecation", "impetuous", "impervious",
            "imperturbable", "impecunious", "immutable", "imminent", "immaculate",
            "ilk", "ignominy", "idiosyncrasy", "iconoclast", "hypochondriac",
            "hyperbole", "hustle", "husbandry", "hospice", "hoary",
            "histrionic", "heinous", "hegemony", "hedonism", "harbinger",
            "hapless", "haphazard", "haggard", "gregarious", "gratis",
            "grandiloquent", "gravitas", "gourmand", "gourmet", "gossamer",
            "gossamer", "goad", "gnome", "gluttonous", "glib",
            "gird", "garrulous", "garish", "gambol", "fustian",
            "fusillade", "furtive", "fulsome", "fulminate", "frugal",
            "frivolous", "frieze", "fresco", "frenetic", "fractious",
            "fragile", "forlorn", "foray", "foible", "flummox",
            "florid", "flaccid", "flagrant", "fissure", "firmament",
            "finesse", "fiduciary", "fetid", "fervor", "feral",
            "fatuous", "fastidious", "fallacy", "fallow", "exult",
            "extirpate", "extol", "extemporize", "expiate", "expedient",
            "exorbitant", "exculpate", "exacerbate", "euphemism", "eulogize",
            "ethereal", "estranged", "eschew", "erudite", "equivocate",
            "equivocal", "envisage", "enmity", "ennui", "enjoin",
            "engender", "enervate", "elucidate", "elegy", "elation",
            "egregious", "efficacious", "effervescent", "efface", "edify",
            "eclectic", "ebullient", "dying", "dyspeptic", "duplicity",
            "dunce", "droll", "dolt", "dogmatic", "doggerel",
            "doctrinaire", "dissemble", "disseminate", "dissident", "dissipate",
            "disparate", "disparage", "disingenuous", "disgruntle", "discomfit",
            "disabuse", "dirge", "dire", "diatribe", "dichotomy",
            "didactic", "diffident", "dilatory", "dilettante", "dexterous",
            "demur", "denouement", "denigrate", "demagogue", "delectable",
            "deference", "defile", "debilitate", "debacle", "dearth",
            "culpable", "cull", "cryptic", "cronyism", "crestfallen",
            "credulous", "craven", "coy", "covetous", "coterie",
            "coruscate", "corporeal", "convoluted", "conundrum", "contumely",
            "contrite", "contention",
            "cordial", "corporeal", "corroborate", "coruscate", "cosmic",
            "cosmopolitan", "coterie", "countenance", "countermand", "courier",
            "covenant", "covert", "covetous", "coy", "crass",
            "craven", "credence", "credulity", "crepuscular", "crescendo",
            "criterion", "cryptic", "culminate", "culpable", "culprit",
            "cumbrous", "cupidity", "curmudgeon", "cursory", "curtail",
            "cynic", "cynosure", "dalliance", "dearth", "debacle",
            "debilitate", "debonair", "debunk", "decadence", "decimate",
            "decorum", "decry", "deference", "defile", "defunct",
            "irony", "irrational", "irrefutable", "irregular", "irrelevant",
            "irremediable", "irreparable", "irrepressible", "irresolute", "irretrievable",
            "irreverent", "irrevocable", "irrigate", "irritate", "isolation",
            "itinerant", "itinerary", "jaded", "jargon", "jaundice",
            "jaunt", "jaunty", "jejune", "jeopardize", "jettison",
            "jibe", "jocose", "jocular", "jocund", "jollity",
            "jostle", "jovial", "jubilant", "judicious", "juggernaut",
            "juncture", "jurisdiction", "jurisprudence", "juxtapose", "keen",
            "kindle", "kinetic", "knack", "knead", "kudos",
            "laborious", "labyrinthine", "laconic", "lacerate", "lachrymose",
            "lackadaisical", "lackey", "lacuna", "lag", "lament",
            "lampoon", "languid", "languish", "larceny", "largess",
            "lascivious", "lassitude", "latent", "lateral", "latitude",
            "laud", "laudable", "laudatory", "lavish", "lax",
            "leery", "legacy", "legerdemain", "legion", "legitimate",
            "leniency", "leonine", "lethargic", "lethargy", "levity",
            "lexicon", "liability", "liaison", "libel", "liberal",
            "libertine", "licentious", "limbo", "limerick", "liminal",
            "limpid", "lineage", "linger", "linguistic", "lionize",
            "liquidate", "lissome", "listless", "litany", "literal",
            "lithe", "litigation", "livid", "loathe", "loathsome",
            "locution", "lofty", "logic", "loquacious", "lout",
            "lucid", "lucrative", "lugubrious", "lull", "luminous",
            "lurid", "lush", "lustrous", "luxuriant", "macabre",
            "macerate", "machination", "macrocosm", "maelstrom", "magnanimous",
            "magnate", "magniloquent", "magnitude", "maim", "malaise",
            "malapropism", "malcontent", "malediction", "malefactor", "malfeasance",
            "malicious", "malign", "malignant", "malinger", "malleable",
            "malnutrition", "mammoth", "mandate", "mandatory", "manifest",
            "manifold", "manipulate", "maneuver", "mangy", "mania",
            "manifesto", "manifold", "marginal", "maritime", "martinet",
            "masochist", "mastery", "material", "maternal", "matrix",
            "maudlin", "maul", "maverick", "mawkish", "maxim",
            "meager", "meander", "meddle", "mediate", "meditate",
            "medley", "meek", "melancholy", "mellifluous", "melodrama",
            "menace", "mendacious", "mendicant", "menial", "mentor",
            "mercantile", "mercurial", "meritorious", "mesa", "metamorphosis",
            "metaphor", "metaphysical", "meticulous", "mettle", "miasma",
            "microcosm", "mien", "migratory", "milieu", "militant",
            "mimic", "minatory", "mince", "minion", "minstrel",
            "minuscule", "minutiae", "mirage", "mire", "mirth",
            "misadventure", "misanthrope", "misapprehend", "miscellany", "mischievous",
            "misconception", "miscreant", "misdemeanor",
            "optimist", "opulent", "oration", "oratorical", "orb",
            "ordain", "ordeal", "ordinance", "ordnance", "orient",
            "original", "ornate", "orthodox", "oscillate", "ossify",
            "ostensible", "ostentatious", "ostracize", "oust", "outlandish",
            "outmoded", "outrage", "outstrip", "overbearing", "overhaul",
            "overt", "overwhelm", "pachyderm", "pacify", "pact",
            "painstaking", "palatable", "palatial", "paleontology", "palliate",
            "pallid", "palpable", "palpitate", "panacea", "panache",
            "pandemic", "pandemonium", "panegyric", "panorama", "parable",
            "paradigm", "paradox", "paragon", "parallel", "paramount",
            "paranoia", "paraphrase", "parasite", "pariah", "parity",
            "parley", "parochial", "parody", "parsimonious", "partisan",
            "partition", "passé", "passive", "pastiche", "patent",
            "paternal", "pathos", "patriarch", "patrician", "patrimony",
            "patronize", "paucity", "pauper", "peccadillo", "peculate",
            "peculiar", "pecuniary", "pedagogical", "pedant", "pedestrian",
            "pedigree", "pejorative", "pellucid", "penal", "penchant",
            "pendulum", "penetrate", "penitent", "pensive", "penury",
            "perceive", "perceptible", "perceptive", "perchance", "percipient",
            "percolate", "percussion", "perdition", "perennial", "perfidy",
            "perforate", "perfunctory", "perimeter", "periodical", "peripatetic",
            "periphery", "perish", "perjure", "permeate", "permissive",
            "pernicious", "perpetrate", "perpetual", "perplex", "perquisite",
            "persecute", "persevere", "persiflage", "persist", "personable",
            "personify", "perspicacious", "perspicuous", "pertinacious", "pertinent",
            "perturb", "peruse", "pervasive", "perverse", "perversion",
            "pervert", "pessimism", "pestilent", "petrify", "petulant",
            "phantom", "philanderer", "philanthropic", "philistine", "philology",
            "phlegmatic", "phoenix", "picaresque", "pillage", "pillory",
            "pine", "pinnacle", "piquant", "pique", "piscatorial",
            "pithy", "placate", "placid", "plagiarize", "plaintive",
            "platitude", "platonic", "plausible", "plebeian", "plebiscite",
            "promote", "prompt", "promulgate", "prone", "propagate",
            "propensity", "prophetic", "propitiate", "propitious", "proponent",
            "proportionate", "propose", "propound", "proprietary", "propriety",
            "propulsive", "prosaic", "proscribe", "prosecute", "proselytize",
            "prospect", "prosperous", "prostrate", "protean", "protect",
            "protégé", "protocol", "protract", "protrude", "protuberant",
            "provident", "provincial", "provisional", "provocative", "provoke",
            "prowess", "proximate", "prudent", "prudish", "prune",
            "pry", "pseudonym", "psyche", "puerile", "pugilist",
            "pugnacious", "puissant", "pulchritude", "pulverize", "punctilious",
            "pundit", "pungent", "punitive", "purport", "purveyor",
            "pusillanimous", "putative", "quaff", "quagmire", "quaint",
            "render", "rendezvous", "renegade", "renege", "renounce",
            "renovate", "renowned", "repel", "repellent", "repercussion",
            "repertory", "replete", "replica", "repose", "reprehend",
            "reprehensible", "repress", "reprieve", "reprimand", "reprisal",
            "reproach", "reprobate", "reprobation", "reprove", "repudiate",
            "repugnant", "repulse", "reputable", "repute", "requisite",
            "rescind", "resentment", "reserve", "residue", "resilient",
            "resolve", "resonant", "resort", "resplendent", "restive",
            "restrain", "resurgent", "resuscitate", "retain", "retaliate",
            "reticent", "retinue", "retort", "retract", "retrench",
            "retrieve", "retroactive", "retrofit", "retrospective", "revel",
            "reverberate", "revere", "reverent", "reverie", "reverse",
            "seclude", "secrete", "sectarian", "secular", "sedate",
            "sedentary", "sedition", "sedulous", "seemly", "seethe",
            "segment", "segregate", "seismic", "seldom", "selective",
            "self-effacing", "seminal", "seminar", "senescence", "senile",
            "sensory", "sensual", "sensuous", "sententious", "sentient",
            "separate", "sepulchral", "sequester", "serendipity", "serene",
            "sere", "serial", "sermon", "serpentine", "serrated",
            "vixen", "vocation", "vociferous", "vogue", "volatile",
            "volition", "voluminous", "voluptuous", "voracious", "vortex",
            "votary", "vouchsafe", "vulgar", "vulnerable", "waft",
            "waggish", "waive", "wake", "wallow", "wan",
            "wanderlust", "wane", "wanton", "wary", "wastrel",
            "waver", "wax", "waylay", "wean", "weary",
            "weasel", "weather", "whimsical", "whet", "whit",
            "wield", "wily", "wince", "winsome", "wizened",
            "woeful", "wont", "wraith", "wrangler", "wreak",
            "wretch", "writ", "writhe", "wry", "xenophobia",
            "yawn", "yeoman", "yoke", "yore", "zany",
            "zealot", "zealous", "zenith", "zephyr", "zest",
            "abyssal", "accolade", "acrid", "adjudicate", "adumbrate",
            "ameliorate", "anathema", "antediluvian", "apotheosis", "arcane",
            "assiduous", "atavistic", "audacious", "aver", "bellicose",
            "benison", "bilious", "blight", "bombastic", "bucolic",
            "cadge", "calumny", "capricious", "catechize", "chicanery",
            "chimerical", "choleric", "circumlocution", "clandestine", "coalesce",
            "cogent", "complicity", "compunction", "conciliatory", "concomitant",
            "conflate", "connive", "contumely", "coruscate", "coterie",
            "dearth", "debilitate", "decimate", "deleterious", "demagogue",
            "laconic", "laudable", "lavish", "legerdemain", "levity",
            "libertine", "licentious", "limpid", "litany", "lithe",
            "livid", "loquacious", "lugubrious", "luminous", "machinations",
            "maelstrom", "magnanimous", "malevolent", "malfeasance", "malign",
            "malleable", "mandate", "manifest", "manifold", "maudlin",
            "maverick", "maxim", "mendacious", "mercurial", "meticulous",
            "miasma", "milieu", "minutiae", "misanthrope", "mitigate",
            "modicum", "monolithic", "moribund", "morose", "mundane",
            "munificent", "myriad", "nadir", "nascent", "nebulous",
            "nefarious", "neophyte", "nexus", "niggardly", "nihilism",
            "nominal", "nonchalant", "nondescript", "nostalgia", "notoriety",
            "nuance", "obdurate", "obfuscate", "oblique", "obsequious",
            "obstreperous", "obtuse", "obviate", "occlude", "occult",
            "odious", "officious", "oligarchy", "ominous", "omnipotent",
            "omnipresent", "omniscient", "onerous", "opaque", "opulent",
            "oscillate", "ossify", "ostensible", "ostracize", "overt",
            "pacify", "palatable", "palliate", "palpable", "panacea",
            "paradigm", "paradox", "paragon", "paramount", "pariah",
            "parochial", "parsimonious", "partisan", "paucity", "peccadillo",
            "pecuniary", "pedantic", "pejorative", "pellucid", "penchant",
            "penitent", "pensive", "penury", "perfidious", "perfunctory",
            "peripatetic", "permeate", "pernicious", "perspicacious", "pertinacious",
            "pertinent", "pervade", "petulant", "philanthropic", "phlegmatic",
            "pillage",
            "tendentious", "tenebrous", "tenuous", "terse", "timorous",
            "tirade", "toady", "torpid", "tortuous", "tractable",
            "transient", "transmute", "travesty", "trenchant", "trepidation",
            "truculent", "truncate", "turgid", "ubiquitous", "umbrage",
            "unctuous", "undermine", "undulate", "unfathomable", "unflappable",
            "unilateral", "unprecedented", "untenable", "urbane", "usurp",
            "vacillate", "vacuous", "valiant", "vapid", "vehement",
            "venal", "venerable", "veracity", "verbose", "verisimilitude",
            "veritable", "vernacular", "vex", "viable", "vicarious",
            "vicissitude", "vilify", "vindicate", "virulent", "viscous",
            "vituperate", "vivacious", "vociferous", "volatile", "voluminous",
            "voracious", "waft", "wallow", "wan", "wanton",
            "wary", "wax", "whet", "whimsical", "wily",
            "winsome", "wizened", "wreak", "xenophobia", "yore",
            "zealous", "zenith", "zephyr", "zestful",
            "admonitory", "alacrity", "ameliorate", "anathema", "antediluvian",
            "antithetical", "apocryphal", "ascetic", "assiduous", "atrophy",
            "august", "averred", "baleful", "behooves", "bellicose",
            "benign", "bereft", "blight", "bombastic", "bucolic",
            "burnished",
            "malfeasance", "malign", "malleable", "mandate", "manifest",
            "manifold", "maudlin", "maverick", "maxim", "mendacious",
            "mercurial", "meticulous", "miasma", "milieu", "minutiae",
            "misanthrope", "mitigate", "modicum", "monolithic", "moribund",
            "morose", "multitudinous", "mundane", "munificent", "myriad",
            "nadir", "nascent", "nebulous", "nefarious", "neophyte",
            "nexus", "niggardly", "nihilism", "nominal", "nonchalant",
            "nondescript", "nostalgia", "notoriety", "novice", "nuance",
            "obdurate", "obfuscate", "oblique", "obsequious", "obstreperous",
            "obtuse", "obviate", "occlude", "occult", "odious",
            "officious", "oligarchy", "ominous", "omnipotent", "omnipresent",
            "omniscient",
            "unprecedented", "untenable", "urbane", "usurp", "vacillate",
            "vacuous", "valiant", "vapid", "vehement", "venal",
            "venerable", "veracity", "verbose", "verisimilitude", "veritable",
            "vernacular", "vex", "viable", "vicarious", "vicissitude",
            "vilify", "vindicate", "virulent", "viscous", "vituperate",
            "vivacious", "vociferous", "volatile", "voluminous", "voracious",
            "waft", "wallow", "wan", "wanton", "wary",
            "wax", "whet", "whimsical", "wily", "winsome",
            "wizened", "wreak", "xenophobia", "yore", "zealous",
            "zenith", "zephyr", "zestful"
        ];

        let chosenWord, missingIndex, correctLetter, score = 0, roundNumber = 1, previousLetter = '', timer, timeLeft = 30;

        function startGame() {
            clearInterval(timer);
            timeLeft = 30;
            updateTimer();

            // Select random word
            chosenWord = words[Math.floor(Math.random() * words.length)];
            missingIndex = Math.floor(Math.random() * chosenWord.length);
            correctLetter = chosenWord[missingIndex];

            // Create display word with missing letter
            let displayWord = chosenWord.substring(0, missingIndex) +
                '<span class="missing-letter">_</span>' +
                chosenWord.substring(missingIndex + 1);

            // Show loading first
            const wordDisplay = document.getElementById("word");
            wordDisplay.innerHTML = '<div class="loading"></div>';

            setTimeout(() => {
                wordDisplay.innerHTML = displayWord.toUpperCase();
            }, 800);

            // Clear inputs and feedback
            const inputElement = document.getElementById("userInput");
            inputElement.value = "";
            inputElement.classList.remove('valid');
            hideStatus();

            // Update round counter
            document.getElementById("round").innerText = roundNumber;

            // Start timer
            startTimer();

            // Focus on input
            setTimeout(() => {
                inputElement.focus();
            }, 900);
        }

        function startTimer() {
            const timerCard = document.getElementById("timer-card");
            timerCard.classList.remove("timer-warning");

            timer = setInterval(() => {
                timeLeft--;
                updateTimer();

                // Add warning style when time is running low
                if (timeLeft <= 10) {
                    timerCard.classList.add("timer-warning");
                }

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    showStatus("⏰ Time's up! The answer was: " + correctLetter.toUpperCase(), "timeout");
                    setTimeout(() => {
                        roundNumber++;
                        startGame();
                    }, 2500);
                }
            }, 1000);
        }

        function updateTimer() {
            document.getElementById("timer").innerText = timeLeft;
        }

        function checkLetter() {
            let input = document.getElementById("userInput").value.trim().toLowerCase();

            // Validate input
            if (input.length !== 1 || input === previousLetter) {
                return;
            }

            // Clear timer
            clearInterval(timer);

            if (input === correctLetter.toLowerCase()) {
                showStatus("🎉 Correct! Well done!", "correct");
                score += 10;
                document.getElementById("userInput").classList.add('valid');

                // Celebrate with word display animation
                const wordDisplay = document.getElementById("word");
                wordDisplay.style.animation = "celebration 0.6s ease-in-out";
                setTimeout(() => {
                    wordDisplay.style.animation = "";
                }, 600);
            } else {
                showStatus(`❌ Wrong! The correct letter was: ${correctLetter.toUpperCase()}`, "incorrect");
            }

            previousLetter = input;
            updateScore();
            roundNumber++;

            setTimeout(() => {
                startGame();
            }, 2500);
        }

        function updateScore() {
            const scoreElement = document.getElementById("score");
            scoreElement.innerText = score;
            scoreElement.style.animation = "none";
            setTimeout(() => {
                scoreElement.style.animation = "countUp 0.5s ease-out";
            }, 10);
        }

        function showStatus(message, type) {
            const statusElement = document.getElementById("status");
            statusElement.innerText = message;
            statusElement.className = `feedback ${type} show`;
        }

        function hideStatus() {
            const statusElement = document.getElementById("status");
            statusElement.className = "feedback";
        }

        function finishGame() {
            clearInterval(timer);

            // Create a beautiful final score display
            const finalMessage = score >= 100 ?
                `🎉 Outstanding! Your final score: ${score}! You're a word master!` :
                score >= 50 ?
                    `🎊 Great job! Your final score: ${score}! Well played!` :
                    `👍 Good effort! Your final score: ${score}. Keep practicing!`;

            showStatus(finalMessage, score >= 50 ? "correct" : "timeout");

            // Save score to memory (since we can't use sessionStorage in Claude artifacts)
            console.log(`Missing Letter Game Final Score: ${score}`);

            setTimeout(() => {
                if (confirm("Game finished! Would you like to play again?")) {
                    score = 0;
                    roundNumber = 1;
                    updateScore();
                    startGame();
                } else {
                    showStatus("Thanks for playing! 🎮", "correct");
                }
            }, 3000);
        }

        function returnToMenu() {
            // Save score to sessionStorage for the portal
            let games = JSON.parse(sessionStorage.getItem("games")) || {};
            games["Missing Letter Game"] = score;
            sessionStorage.setItem("games", JSON.stringify(games));
            window.location.href = "index.html";
        }

        // Allow typing letters directly
        document.getElementById("userInput").addEventListener('input', function (e) {
            const value = e.target.value.toUpperCase();
            if (value.match(/[A-Z]/)) {
                e.target.value = value;
            } else {
                e.target.value = '';
            }
        });

        // Prevent non-letter characters
        document.getElementById("userInput").addEventListener('keypress', function (e) {
            if (!/[a-zA-Z]/.test(e.key) && e.key !== 'Enter') {
                e.preventDefault();
            }
        });

        // Start the game when page loads
        startGame();
    </script>
</body>

</html>